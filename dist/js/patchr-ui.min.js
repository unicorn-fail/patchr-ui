!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).PatchrUi=e()}}(function(){function f(e){return e&&e.__esModule?e:{default:e}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}return function r(a,s,l){function u(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(d)return d(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var o=s[t]={exports:{}};a[t][0].call(o.exports,function(e){return u(a[t][1][e]||e)},o,o.exports,r,a,s,l)}return s[t].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return e.replace(i,o)};var i=/[-\s]+(.)?/g;function o(e,t){return t?t.toUpperCase():""}},{}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.supportedValue=n.supportedProperty=n.prefix=void 0;var i=f(e("./prefix")),o=f(e("./supported-property")),r=f(e("./supported-value"));n.default={prefix:i.default,supportedProperty:o.default,supportedValue:r.default},n.prefix=i.default,n.supportedProperty=o.default,n.supportedValue=r.default},{"./prefix":3,"./supported-property":4,"./supported-value":5}],3:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i="",o="";if(f(e("is-in-browser")).default){var r={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},a=document.createElement("p").style;for(var s in r)if(s+"Transform"in a){o=r[i=s];break}}n.default={js:i,css:o}},{"is-in-browser":8}],4:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!a)return e;if(null!=s[e])return s[e];(0,r.default)(e)in a.style?s[e]=e:o.default.js+(0,r.default)("-"+e)in a.style?s[e]=o.default.css+e:s[e]=!1;return s[e]};var i=f(e("is-in-browser")),o=f(e("./prefix")),r=f(e("./camelize")),a=void 0,s={};if(i.default){a=document.createElement("p");var l=window.getComputedStyle(document.documentElement,"");for(var u in l)isNaN(u)||(s[l[u]]=l[u])}},{"./camelize":1,"./prefix":3,"is-in-browser":8}],5:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if(!a)return t;if("string"!=typeof t||!isNaN(parseInt(t,10)))return t;var n=e+t;if(null!=r[n])return r[n];try{a.style[e]=t}catch(e){return r[n]=!1}""!==a.style[e]?r[n]=t:("-ms-flex"===(t=o.default.css+t)&&(t="-ms-flexbox"),a.style[e]=t,""!==a.style[e]&&(r[n]=t));r[n]||(r[n]=!1);return a.style[e]="",r[n]};var i=f(e("is-in-browser")),o=f(e("./prefix")),r={},a=void 0;i.default&&(a=document.createElement("p"))},{"./prefix":3,"is-in-browser":8}],6:[function(e,n,t){!function(e,t){void 0!==n?n.exports=t():this.domready=t()}(0,function(){var e,t=[],n=document,i=n.documentElement.doScroll,o="DOMContentLoaded",r=(i?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return r||n.addEventListener(o,e=function(){for(n.removeEventListener(o,e),r=1;e=t.shift();)e()}),function(e){r?setTimeout(e,0):t.push(e)}})},{}],7:[function(e,t,n){!function(r,e){var s,l,d=function(e){return new d.Instance(e)};d.SUPPORT="wheel",d.ADD_EVENT="addEventListener",d.REMOVE_EVENT="removeEventListener",d.PREFIX="",d.READY=!1,d.Instance=function(e){return d.READY||(d.normalise.browser(),d.READY=!0),this.element=e,this.handlers=[],this},d.Instance.prototype={wheel:function(e,t){return d.event.add(this,d.SUPPORT,e,t),"DOMMouseScroll"===d.SUPPORT&&d.event.add(this,"MozMousePixelScroll",e,t),this},unwheel:function(e,t){return void 0===e&&(e=this.handlers.slice(-1)[0])&&(e=e.original),d.event.remove(this,d.SUPPORT,e,t),"DOMMouseScroll"===d.SUPPORT&&d.event.remove(this,"MozMousePixelScroll",e,t),this}},d.event={add:function(e,t,n,i){var o=n;n=function(e){e||(e=r.event);var t=d.normalise.event(e),n=d.normalise.delta(e);return o(t,n[0],n[1],n[2])},e.element[d.ADD_EVENT](d.PREFIX+t,n,i||!1),e.handlers.push({original:o,normalised:n})},remove:function(e,t,n,i){for(var o,r=n,a={},s=0,l=e.handlers.length;s<l;++s)a[e.handlers[s].original]=e.handlers[s];for(var u in n=(o=a[r]).normalised,e.element[d.REMOVE_EVENT](d.PREFIX+t,n,i||!1),e.handlers)if(e.handlers[u]==o){e.handlers.splice(u,1);break}}},d.normalise={browser:function(){"onwheel"in e||9<=e.documentMode||(d.SUPPORT=void 0!==e.onmousewheel?"mousewheel":"DOMMouseScroll"),r.addEventListener||(d.ADD_EVENT="attachEvent",d.REMOVE_EVENT="detachEvent",d.PREFIX="on")},event:function(e){var t={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"===e.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){e.stopPropagation?e.stopPropagation():e.cancelBubble=!1}};return e.wheelDelta&&(t.deltaY=-.025*e.wheelDelta),e.wheelDeltaX&&(t.deltaX=-.025*e.wheelDeltaX),e.detail&&(t.deltaY=e.detail),t},delta:function(e){var t,n,i,o=0,r=0,a=0;return e.deltaY&&(o=a=-1*e.deltaY),e.deltaX&&(o=-1*(r=e.deltaX)),e.wheelDelta&&(o=e.wheelDelta),e.wheelDeltaY&&(a=e.wheelDeltaY),e.wheelDeltaX&&(r=-1*e.wheelDeltaX),e.detail&&(o=-1*e.detail),0===o?[0,0,0]:(t=Math.abs(o),(!s||t<s)&&(s=t),n=Math.max(Math.abs(a),Math.abs(r)),(!l||n<l)&&(l=n),i=0<o?"floor":"ceil",[o=Math[i](o/s),r=Math[i](r/l),a=Math[i](a/l)])}},"function"==typeof r.define&&r.define.amd?r.define("hamster",[],function(){return d}):"object"==typeof n?t.exports=d:r.Hamster=d}(window,window.document)},{}],8:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i=n.isBrowser="object"===("undefined"==typeof window?"undefined":o(window))&&"object"===("undefined"==typeof document?"undefined":o(document))&&9===document.nodeType;n.default=i},{}],9:[function(e,t,n){var i,o;i=this,o=function(){return function(n){var i={};function o(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,o),t.loaded=!0,t.exports}return o.m=n,o.c=i,o.p="",o(0)}([function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function s(){return!("undefined"==typeof window||!window.history||!window.history.pushState)}function h(e,t,n){this.root=null,this._routes=[],this._useHash=t,this._hash=void 0===n?"#":n,this._paused=!1,this._destroyed=!1,this._lastRouteResolved=null,this._notFoundHandler=null,this._defaultHandler=null,this._usePushState=!t&&s(),this._onLocationChange=this._onLocationChange.bind(this),this._genericHooks=null,this._historyAPIUpdateMethod="pushState",e?this.root=t?e.replace(/\/$/,"/"+this._hash):e.replace(/\/$/,""):t&&(this.root=this._cLoc().split(this._hash)[0].replace(/\/$/,"/"+this._hash)),this._listen(),this.updatePageLinks()}function c(e){return e instanceof RegExp?e:e.replace(/\/+$/,"").replace(/^\/+/,"^/")}function n(e){return e.replace(/\/$/,"").split("/").length}function a(e,t){return n(t)-n(e)}function i(d){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:[]).map(function(e){var t,i,n,o,r=(t=c(e.route),i=[],{regexp:t instanceof RegExp?t:new RegExp(t.replace(h.PARAMETER_REGEXP,function(e,t,n){return i.push(n),h.REPLACE_VARIABLE_REGEXP}).replace(h.WILDCARD_REGEXP,h.REPLACE_WILDCARD)+h.FOLLOWED_BY_SLASH_REGEXP,h.MATCH_REGEXP_FLAGS),paramNames:i}),a=r.regexp,s=r.paramNames,l=d.replace(/^\/+/,"/").match(a),u=(n=l,0===(o=s).length?null:n?n.slice(1,n.length).reduce(function(e,t,n){return null===e&&(e={}),e[o[n]]=decodeURIComponent(t),e},null):null);return!!l&&{match:l,route:e,params:u}}).filter(function(e){return e})}function l(e,t){return i(e,t)[0]||!1}function o(t,e){var n=e.map(function(e){return""===e.route||"*"===e.route?t:t.split(new RegExp(e.route+"($|/)"))[0]}),i=c(t);return 1<n.length?n.reduce(function(e,t){return e.length>t.length&&(e=t),e},n[0]):1===n.length?n[0]:i}function u(e,t,n){var i,o=function(e){return e.split(/\?(.*)?$/)[0]};return void 0===n&&(n="#"),s()&&!t?o(e).split(n)[0]:1<(i=e.split(n)).length?o(i[1]):o(i[0])}function d(e,t,n){t&&"object"===(void 0===t?"undefined":r(t))?t.before?t.before(function(){(!(0<arguments.length&&void 0!==arguments[0])||arguments[0])&&(e(),t.after&&t.after(n))},n):t.after&&(e(),t.after&&t.after(n)):e()}h.prototype={helpers:{match:l,root:o,clean:c,getOnlyURL:u},navigate:function(e,t){var n;return e=e||"",this._usePushState?(n=(n=(t?"":this._getRoot()+"/")+e.replace(/^\/+/,"/")).replace(/([^:])(\/{2,})/g,"$1/"),history[this._historyAPIUpdateMethod]({},"",n),this.resolve()):"undefined"!=typeof window&&(e=e.replace(new RegExp("^"+this._hash),""),window.location.href=window.location.href.replace(/#$/,"").replace(new RegExp(this._hash+".*$"),"")+this._hash+e),this},on:function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];if("function"==typeof n[0])this._defaultHandler={handler:n[0],hooks:n[1]};else if(2<=n.length)if("/"===n[0]){var o=n[1];"object"===r(n[1])&&(o=n[1].uses),this._defaultHandler={handler:o,hooks:n[2]}}else this._add(n[0],n[1],n[2]);else if("object"===r(n[0])){Object.keys(n[0]).sort(a).forEach(function(e){t.on(e,n[0][e])})}return this},off:function(n){return null!==this._defaultHandler&&n===this._defaultHandler.handler?this._defaultHandler=null:null!==this._notFoundHandler&&n===this._notFoundHandler.handler&&(this._notFoundHandler=null),this._routes=this._routes.reduce(function(e,t){return t.handler!==n&&e.push(t),e},[]),this},notFound:function(e,t){return this._notFoundHandler={handler:e,hooks:t},this},resolve:function(e){var t,n,i=this,o=(e||this._cLoc()).replace(this._getRoot(),"");this._useHash&&(o=o.replace(new RegExp("^/"+this._hash),"/"));var r=(e||this._cLoc()).split(/\?(.*)?$/).slice(1).join(""),a=u(o,this._useHash,this._hash);return!this._paused&&(this._lastRouteResolved&&a===this._lastRouteResolved.url&&r===this._lastRouteResolved.query?(this._lastRouteResolved.hooks&&this._lastRouteResolved.hooks.already&&this._lastRouteResolved.hooks.already(this._lastRouteResolved.params),!1):(n=l(a,this._routes))?(this._callLeave(),this._lastRouteResolved={url:a,query:r,hooks:n.route.hooks,params:n.params,name:n.route.name},t=n.route.handler,d(function(){d(function(){n.route.route instanceof RegExp?t.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n.match.slice(1,n.match.length))):t(n.params,r)},n.route.hooks,n.params,i._genericHooks)},this._genericHooks,n.params),n):this._defaultHandler&&(""===a||"/"===a||a===this._hash||function(e,t,n){if(s()&&!t)return!1;if(!e.match(n))return!1;var i=e.split(n);return i.length<2||""===i[1]}(a,this._useHash,this._hash))?(d(function(){d(function(){i._callLeave(),i._lastRouteResolved={url:a,query:r,hooks:i._defaultHandler.hooks},i._defaultHandler.handler(r)},i._defaultHandler.hooks)},this._genericHooks),!0):(this._notFoundHandler&&d(function(){d(function(){i._callLeave(),i._lastRouteResolved={url:a,query:r,hooks:i._notFoundHandler.hooks},i._notFoundHandler.handler(r)},i._notFoundHandler.hooks)},this._genericHooks),!1))},destroy:function(){this._routes=[],this._destroyed=!0,clearTimeout(this._listeningInterval),"undefined"!=typeof window&&(window.removeEventListener("popstate",this._onLocationChange),window.removeEventListener("hashchange",this._onLocationChange))},updatePageLinks:function(){var i=this;"undefined"!=typeof document&&this._findLinks().forEach(function(n){n.hasListenerAttached||(n.addEventListener("click",function(e){var t=i.getLinkPath(n);i._destroyed||(e.preventDefault(),i.navigate(t.replace(/\/+$/,"").replace(/^\/+/,"/")))}),n.hasListenerAttached=!0)})},generate:function(i){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=this._routes.reduce(function(e,t){var n;if(t.name===i)for(n in e=t.route,o)e=e.toString().replace(":"+n,o[n]);return e},"");return this._useHash?this._hash+e:e},link:function(e){return this._getRoot()+e},pause:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this._paused=e,this._historyAPIUpdateMethod=e?"replaceState":"pushState"},resume:function(){this.pause(!1)},historyAPIUpdateMethod:function(e){return void 0===e?this._historyAPIUpdateMethod:this._historyAPIUpdateMethod=e},disableIfAPINotAvailable:function(){s()||this.destroy()},lastRouteResolved:function(){return this._lastRouteResolved},getLinkPath:function(e){return e.pathname||e.getAttribute("href")},hooks:function(e){this._genericHooks=e},_add:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return"string"==typeof e&&(e=encodeURI(e)),"object"===(void 0===t?"undefined":r(t))?this._routes.push({route:e,handler:t.uses,name:t.as,hooks:n||t.hooks}):this._routes.push({route:e,handler:t,hooks:n}),this._add},_getRoot:function(){return null!==this.root||(this.root=o(this._cLoc().split("?")[0],this._routes)),this.root},_listen:function(){var e=this;if(this._usePushState)window.addEventListener("popstate",this._onLocationChange);else if("undefined"!=typeof window&&"onhashchange"in window)window.addEventListener("hashchange",this._onLocationChange);else{var t=this._cLoc(),n=void 0,i=void 0;(i=function(){n=e._cLoc(),t!==n&&(t=n,e.resolve()),e._listeningInterval=setTimeout(i,200)})()}},_cLoc:function(){return"undefined"!=typeof window?void 0!==window.__NAVIGO_WINDOW_LOCATION_MOCK__?window.__NAVIGO_WINDOW_LOCATION_MOCK__:c(window.location.href):""},_findLinks:function(){return[].slice.call(document.querySelectorAll("[data-navigo]"))},_onLocationChange:function(){this.resolve()},_callLeave:function(){this._lastRouteResolved&&this._lastRouteResolved.hooks&&this._lastRouteResolved.hooks.leave&&this._lastRouteResolved.hooks.leave()}},h.PARAMETER_REGEXP=/([:*])(\w+)/g,h.WILDCARD_REGEXP=/\*/g,h.REPLACE_VARIABLE_REGEXP="([^/]+)",h.REPLACE_WILDCARD="(?:.*)",h.FOLLOWED_BY_SLASH_REGEXP="(?:/$|$)",h.MATCH_REGEXP_FLAGS="",t.default=h,e.exports=t.default}])},"object"==typeof n&&"object"==typeof t?t.exports=o():"object"==typeof n?n.Navigo=o():i.Navigo=o()},{}],10:[function(e,s,t){(function(a){(function(){var e,t,n,i,o,r;"undefined"!=typeof performance&&null!==performance&&performance.now?s.exports=function(){return performance.now()}:null!=a&&a.hrtime?(s.exports=function(){return(e()-o)/1e6},t=a.hrtime,i=(e=function(){var e;return 1e9*(e=t())[0]+e[1]})(),r=1e9*a.uptime(),o=i-r):n=Date.now?(s.exports=function(){return Date.now()-n},Date.now()):(s.exports=function(){return(new Date).getTime()-n},(new Date).getTime())}).call(this)}).call(this,e("_process"))},{_process:11}],11:[function(e,t,n){var i,o,r=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(t){if(i===setTimeout)return setTimeout(t,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var u,d=[],h=!1,c=-1;function f(){h&&u&&(h=!1,u.length?d=u.concat(d):c=-1,d.length&&p())}function p(){if(!h){var e=l(f);h=!0;for(var t=d.length;t;){for(u=d,d=[];++c<t;)u&&u[c].run();c=-1,t=d.length}u=null,h=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new v(e,t)),1!==d.length||h||l(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],12:[function(h,c,e){(function(e){for(var i=h("performance-now"),t="undefined"==typeof window?e:window,n=["moz","webkit"],o="AnimationFrame",r=t["request"+o],a=t["cancel"+o]||t["cancelRequest"+o],s=0;!r&&s<n.length;s++)r=t[n[s]+"Request"+o],a=t[n[s]+"Cancel"+o]||t[n[s]+"CancelRequest"+o];if(!r||!a){var l=0,u=0,d=[];r=function(e){if(0===d.length){var t=i(),n=Math.max(0,1e3/60-(t-l));l=n+t,setTimeout(function(){for(var e=d.slice(0),t=d.length=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return d.push({handle:++u,callback:e,cancelled:!1}),u},a=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}c.exports=function(e){return r.call(t,e)},c.exports.cancel=function(){a.apply(t,arguments)},c.exports.polyfill=function(e){e||(e=t),e.requestAnimationFrame=r,e.cancelAnimationFrame=a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":10}],13:[function(e,t,n){var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},o=document.createElement("p");for(var r in i)if(null!=o.style[r]){t.exports=i[r];break}},{}],14:[function(e,t,i){(function(e){Object.defineProperty(i,"__esModule",{value:!0});var o="undefined"!=typeof window?window.Patchr:void 0!==e?e.Patchr:null,t=f("undefined"!=typeof window?window.navigator:void 0!==e?e.navigator:null),n=function(e){function i(e,t){c(this,i);var n=p(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return n.aborted=!1,n.active=!1,n.url=o.Url.create(t),n.xhr=new XMLHttpRequest,n.xhr.onabort=function(e){return n.abort(e)},n.xhr.onprogress=function(e){return n.progress(e)},n.xhr.onerror=function(e){return n.complete(e)},n.xhr.onload=function(e){return n.complete(e)},n}return m(i,o.Proxy),h(i,[{key:"abort",value:function(e){this.aborted=!0,this.active=!1,this.emitError()}},{key:"complete",value:function(e){if(4===this.xhr.readyState)if(this.active=!1,200===this.xhr.status){var t=parseInt(this.xhr.getResponseHeader("content-length"),10);!isNaN(t)&&t&&(this.url.size=t),this.url.type=this.xhr.getResponseHeader("content-type")||null,this.emit("ajax.success",this,this.xhr.responseText)}else this.emitError()}},{key:"emitError",value:function(){var e=void 0;this.aborted?e=this.t("The request has been aborted."):(e=404===this.xhr.status?this.t("The requested file does not exist."):this.t("Unable to load the request file."),e+=t.default&&!1===t.default.onLine?" "+this.t("You appear to be offline."):""),this.emit("ajax.error",this,new Error(e))}},{key:"progress",value:function(e){this.emit("ajax.progress",e.loaded,e.total)}},{key:"send",value:function(){var r=this,t=void 0,n=void 0,e=void 0;return this.promise(function(i,o){t=function(e,t,n){return t===r&&o(n)},n=function(e,t,n){return t===r&&i(n)},e=function(e){return r.off("ajax.error",t),r.off("ajax.success",n),e},r.on("ajax.error",t),r.on("ajax.success",n),r.emit("ajax.beforeSend",r)&&(r.active=!0,r.xhr.open("GET",r.url,!0),r.xhr.send())}).then(e)}}]),i}();i.default=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var v=f(e("./Utility")),i=f(e("./InfinityItem")),o=f(e("./Scrollable")),r=function(e){function s(e,t,n){c(this,s);var i=p(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e,t));i.options=v.default.extend(!0,{},i.options,s.defaults,i.getPatchrOption("infinity",{}),n),i.buffer=i.getOption("buffer")||1,i.items=[],i.visibleItems=[],i.container.classList.add("patchr-infinity");for(var o=i.getOption("items",[]),r=0,a=o.length;r<a;r++)i.add(o[r]);return i.resize(),i.draw(),i}return m(s,o.default),h(s,[{key:"add",value:function(e){this.items.push(e instanceof i.default?e:new i.default(this,e))}},{key:"draw",value:function(){var p=this;(function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0})(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"draw",this).call(this),v.default.animationFrame(function(){var e=p.height*p.buffer,t=p.visibleItems;p.visibleItems=[];for(var n=null,i=0,o=p.items.length;i<o;i++){var r=p.items[i],a=p.scrollTop-e,s=p.scrollTop+p.height+e;r.y+r.height>=a&&r.y<=s&&(null===n&&(n=i),p.visibleItems.push(r.attach()))}if(1===p.visibleItems.length)for(var l=p.items.slice(n,n+p.buffer),u=0,d=l.length;u<d;u++)p.visibleItems.push(l[u].attach());for(var h=0,c=t.length;h<c;h++){var f=t[h];-1===v.default.indexOf(p.visibleItems,f)&&f.detach()}})}}]),s}();(n.default=r).defaults={buffer:5,items:[]}},{"./InfinityItem":16,"./Scrollable":23,"./Utility":25}],16:[function(n,e,i){(function(e){Object.defineProperty(i,"__esModule",{value:!0});var o="undefined"!=typeof window?window.Patchr:void 0!==e?e.Patchr:null,r=f(n("./Infinity")),t=function(e){function i(e,t){if(c(this,i),!(e instanceof r.default))throw new Error('The "infinity" argument must be an instance of Infinity: '+e.name);if(!(t instanceof o.Renderable))throw new Error('The "item" argument must be an instance of Renderable: '+t.name);var n=p(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e.patchr));return n.affixed=[],n.affixedClone=[],n.element=null,n.height=t.outerHeight(),n.infinity=e,n.item=t,n.totalHeight=t.outerHeight(!0),n.y=e.innerHeight,e.innerHeight+=n.totalHeight,n}return m(i,o.Proxy),h(i,[{key:"attach",value:function(){return this.isAttached()||(this.render(),this.infinity.container.appendChild(this.element),this.attachAffixed()),this.draw(),this}},{key:"attachAffixed",value:function(){if(this.element){this.detachAffixed(),this.affixed=Array.prototype.slice.call(this.element.querySelectorAll(".patchr-affix")),this.affixedClone=[];for(var e=0,t=this.affixed.length;e<t;e++){var n=this.affixed[e],i=n.cloneNode(!0);i.classList.add("patchr-affixed"),i.style.display="none",i.style.position="absolute",i.style.top=n.offsetTop+"px",i.style.left=n.offsetLeft+"px",i.style.height=n.offsetHeight+"px",i.style.width=n.offsetWidth+"px",i.style.zIndex=100,this.element.insertBefore(i,this.element.firstChild),this.affixedClone[e]=i}}return this}},{key:"destroy",value:function(){return this.detach(),this.affixed=[],this.element=null,this}},{key:"detach",value:function(){return this.isAttached()&&(this.detachAffixed(),this.element=this.infinity.container.removeChild(this.element)),this}},{key:"detachAffixed",value:function(){for(var e=0,t=this.affixed.length;e<t;e++)this.affixed.splice(e,1),this.affixedClone[e]&&(this.element.contains(this.affixedClone[e])&&this.element.removeChild(this.affixedClone[e]),this.affixedClone.splice(e,1));return this}},{key:"draw",value:function(){var e=this.isAttached();this.top=this.y-this.infinity.scrollTop,e&&(this.element.style.transform="translate3d(0,"+-1*this.infinity.scrollTop+"px,0)");for(var t=0,n=this.affixed.length;t<n;t++){var i=this.affixed[t],o=this.affixedClone[t],r=this.top+i.offsetTop,a=r+this.height,s=0;r<0&&(s-=r);var l=a-i.offsetHeight;l<0&&(s+=l),o.style.display=e&&r<=0&&0<=a?"block":"none",o.style.transform="translate3d(0,"+s+"px,0)"}return this}},{key:"isAttached",value:function(){return!(!this.element||!this.infinity.container.contains(this.element))}},{key:"render",value:function(){var t=this;if(this.element)return this;this.element=document.createElement("div"),this.element.classList.add("patchr-infinity-item"),this.element.classList.add("loading"),this.element.style.height=this.totalHeight+"px",this.element.style.width=this.infinity.width+"px",this.element.style.top=this.y+"px",this.element.style.transform="translate3d(0,"+-1*this.infinity.scrollTop+"px,0)";var e=this.item.renderPlaceholder();e.children[0].addClass("patchr-affix"),this.element.innerHTML=e,this.attachAffixed(),this.item.render().then(function(e){t.element.style.height=t.height+"px",t.element.innerHTML=e,t.element.classList.remove("loading"),t.attachAffixed(),t.draw()})}}]),i}();i.default=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Infinity":15}],17:[function(i,e,a){(function(e){Object.defineProperty(a,"__esModule",{value:!0});var o=f("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),r=f(i("./Utility")),t=f(i("./Transition")),n=function(e){function i(e,t){c(this,i);var n=p(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return n.options=r.default.extend(!0,{},n.options,i.defaults,n.getPatchrOption("modal"),t),n.originalTitle=window.document.title,n.minimized=!1,n.$body=(0,o.default)("body"),n.$backdrop=null,n.visible=!1,n.$wrapper=(0,o.default)('<div class="patchr-modal-wrapper patchr-reset" tabindex="-1" role="dialog"/>'),n.getOption("animate")&&n.$wrapper.addClass("fade"),n.$modal=(0,o.default)('<div class="patchr-modal" role="dialog"/>').appendTo(n.$wrapper),n.$header=(0,o.default)('<div class="patchr-modal-header"/>').appendTo(n.$modal),n.$controls=(0,o.default)('<div class="patchr-modal-controls"/>').appendTo(n.$header),n.getOption("controls.minimize")&&n.$controls.append('<button type="button" class="patchr-btn minimize" data-action="minimize" aria-label="Minimize"><span class="dui-icon dui-icon--minimize" aria-hidden="true"></span></button>'),n.getOption("controls.maximize")&&n.$controls.append('<button type="button" class="patchr-btn maximize" data-action="maximize" aria-label="Maximize"><span class="dui-icon dui-icon--maximize" aria-hidden="true"></span></button>'),n.getOption("controls.close")&&n.$controls.append('<button type="patchr-btn button" class="close" data-action="close" aria-label="Close"><span class="dui-icon dui-icon--close" aria-hidden="true"></span></button>'),n.$title=(0,o.default)('<h2 class="patchr-modal-title patchr-overflow"/>').appendTo(n.$header),n.$content=(0,o.default)('<div class="patchr-modal-content patchr-wrapper"/>').html(n.getOption("content","")).appendTo(n.$modal),n.$footer=(0,o.default)('<div class="patchr-modal-footer"/>').html(n.getOption("footer","")).appendTo(n.$modal),n.id=n.getOption("id"),n.id&&n.$wrapper.attr("id",n.id),n.$wrapper.parent().length||n.$wrapper.appendTo(n.$body),n.scrollMouseDown=!1,n.$wrapper.delegate('[data-action="close"]',"click.close.patchr.modal",n.close.bind(n)),n.$wrapper.delegate('[data-action="maximize"]',"click.maximize.patchr.modal",n.maximize.bind(n)),n.$wrapper.delegate('[data-action="minimize"]',"click.minimize.patchr.modal",n.minimize.bind(n)),n.on("scroll.mousedown",function(e,t){n.scrollMouseDown=!0}).on("scroll.mouseup",function(e,t){n.scrollMouseDown=!1}),n.$modal.bind("mouseup.close.patchr.modal touchend.close.patchr.modal",function(e){n.scrollMouseDown||e.target!==n.$modal[0]&&!o.default.contains(n.$modal[0],e.target)||e.stopPropagation()}),n.getOption("backdrop")&&n.$wrapper.bind("mouseup.close.patchr.modal touchend.close.patchr.modal",function(e){n.scrollMouseDown||e.target!==n.$wrapper[0]||n.close()}),n}return m(i,t.default),h(i,[{key:"getTitle",value:function(){return this.title||(this.title=this.getOption("title")),this.title}},{key:"setTitle",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getTitle();return this.title=e,this.$title.html(e),this.visible&&!this.minimized&&this.setDocumentTitle(e),this}},{key:"toggle",value:function(){return this.visible?this.close():this.open()}},{key:"open",value:function(){var e=this;return this.minimized?this.maximize():this.visible?this.resolve(this):this.emit("open.modal",this).then(function(){return e.$body.addClass("patchr-modal-open"),e.escape(),e.setDocumentTitle(),e.showBackdrop()}).then(function(){return e.$wrapper.scrollTop(0),e.fadeIn(e.$wrapper)}).then(function(){return e.visible=!0,e.emit("opened.modal",e)}).then(function(){return e.resolve(e)})}},{key:"setDocumentTitle",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getTitle(),t=this.getOption("templates.documentTitle");e&&t&&(this.getPatchrOption("comments")&&(e="💬 "+e),window.document.title=r.default.template(t,{title:e,original:this.originalTitle}))}},{key:"restoreDocumentTitle",value:function(){window.document.title=this.originalTitle}},{key:"close",value:function(){var e=this;return this.visible?this.emit("close.modal",this).then(function(){return e.escape(),e.removeBackdrop(),e.fadeOut(e.$wrapper)}).then(function(){e.$body.removeClass("patchr-modal-open"),e.$wrapper.removeClass("minimized"),e.restoreDocumentTitle(),e.minimized=!1,e.visible=!1}).then(function(){return e.emit("closed.modal",e)}).then(function(){return e.resolve(e)}):this.resolve(this)}},{key:"maximize",value:function(){var e=this;return this.minimized?this.emit("maximize.modal",this).then(function(){return e.$body.addClass("patchr-modal-open"),e.showBackdrop()}).then(function(){return e.escape(),e.setDocumentTitle(),e.transitionEnd(e.$wrapper.removeClass("minimized"))}).then(function(){return e.minimized=!1,e.emit("maximized.modal",e)}).then(function(){return e.resolve(e)}):this.resolve(this)}},{key:"minimize",value:function(){var e=this;return this.minimized?this.resolve(this):this.emit("minimize.modal",this).then(function(){return e.escape(),e.restoreDocumentTitle(),e.$wrapper.addClass("minimized"),e.removeBackdrop()}).then(function(){return e.$body.removeClass("patchr-modal-open"),e.minimized=!0,e.emit("minimized.modal",e)}).then(function(){return e.resolve(e)})}},{key:"escape",value:function(){var t=this;this.visible&&this.options.keyboard?this.$wrapper.bind("keydown.close.patchr.modal",function(e){27===e.which&&t.close()}):this.visible||this.$wrapper.unbind("keydown.close.patchr.modal")}},{key:"removeBackdrop",value:function(){var e=this;return this.$backdrop?this.fadeOut(this.$backdrop).then(function(){e.$backdrop&&e.$backdrop.remove(),e.$backdrop=null}):this.resolve()}},{key:"showBackdrop",value:function(){var n=this;return this.getOption("backdrop")?this.promise(function(e,t){n.$backdrop=(0,o.default)(document.createElement("div")).addClass("patchr-modal-backdrop").appendTo(n.$body),n.fadeIn(n.$backdrop,1).then(e)}):this.resolve()}}]),i}();(a.default=n).defaults={controls:{close:!0,maximize:!0,minimize:!0},backdrop:!0,keyboard:!0,templates:{documentTitle:"{{ title }} | {{ original }}"},show:!0}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Transition":24,"./Utility":25}],18:[function(s,e,l){(function(e){Object.defineProperty(l,"__esModule",{value:!0});var o="undefined"!=typeof window?window.Patchr:void 0!==e?e.Patchr:null,t=f("undefined"!=typeof window?window.Prism:void 0!==e?e.Prism:null),r=f(s("./Utility")),i=f(s("./Reviewer")),a=f(s("./Router")),n=function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};c(this,n);var t=p(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,r.default.extend(!0,{},n.defaults,e)));return t.activeReviewer=null,t.initialized=!1,t.reviewers={},t.router=null,t.init(),t}return m(n,o.Patchr),h(n,[{key:"init",value:function(){var n=this;this.getOption("comments")&&this.on("render.line.end",function(e,t){var n=t.rendered.children[2];n&&n.prepend('<button type="button" class="patchr-btn patchr-btn--secondary add-comment" data-action="addComment" aria-label="'+this.t("Add Comment")+'"><span class="dui-icon dui-icon--plus" aria-hidden="true"></span></button>')}),this.setUrls(this.getOption("urls",[])),this.on("render.file.end",function(e,t){t.rendered.children[0].addClass("patchr-affix")}).on("closed.modal minimized.modal",function(e,t){n.activeReviewer&&n.activeReviewer.modal===t&&(n.router.clear(),"closed"===e.type&&(n.activeReviewer=null))}).on("maximized.modal",function(e,t){n.activeReviewer&&n.activeReviewer.modal===t&&n.router.redirect(n.activeReviewer.url.sha1)}),this.router=new a.default(this);var e=this.router.getPrefix();this.router.addRoute(e+"/:url",this.loadUrl.bind(this)),this.router.addRoute("*",function(){n.activeModal&&(n.activeModal.visible&&n.activeModal.hide(),n.activeModal=null)})}},{key:"loadUrl",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";n=r.default.deparam(n);var i=this.getUrl(decodeURIComponent(e.url));if(!i)return this.router.clear(),!1;var o=this.getReviewer(i);o.setQuery(n),this.activeReviewer&&this.activeReviewer!==o?this.activeReviewer.close().then(function(){o.open(),t.activeReviewer=o}):o.open().then(function(){t.activeReviewer=o})}},{key:"navigate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.router.navigate(e,t)}},{key:"setUrls",value:function(e,t){for(var n=0,i=e.length;n<i;n++)e[n]instanceof o.Url||(e[n]=new o.Url(e[n]));return this.options.urls=t?this.options.urls.concat(e):e,this}},{key:"getUrl",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=null;return t&&r.default.isSha1(t)?e=this.options.urls.filter(function(e){return e.sha1===t})[0]||null:t&&r.default.isUrl(t)&&((e=this.options.urls.filter(function(e){return e.url===t})[0]||null)||(e=new o.Url(t),this.options.urls.push(e))),e}},{key:"getReviewer",value:function(e){return e=o.Url.create(e),this.reviewers[e.sha1]||(this.reviewers[e.sha1]=new i.default(this,e)),this.reviewers[e.sha1]}}]),n}();(l.default=n).__version__="0.1.0",n.defaults={comments:!1,highlighter:t.default||null,throbber:'<div class="patchr-throbber fade" data-state="loading"><div class="c c1"></div><div class="c c2"></div><div class="c c3"></div><div class="c c4"></div><div class="c c5"></div><div class="c c6"></div><div class="c c7"></div><div class="c c8"></div><div class="c c9"></div></div>',urls:[],transitionDuration:300}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Reviewer":20,"./Router":21,"./Utility":25}],19:[function(i,e,o){(function(e){Object.defineProperty(o,"__esModule",{value:!0});var a=f("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),s=f(i("./Utility")),t=f(i("./Transition")),n=function(e){function r(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};c(this,r);var i=p(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));i.options=s.default.extend(!0,{},i.options,r.defaults,i.getPatchrOption("progress"),n),i.container=t instanceof a.default?t[0]:t,s.default.typeCheck(i.container,HTMLElement);var o=document.createElement("div");return o.innerHTML=i.getPatchrOption("throbber"),i.throbber=o.firstChild,i.wrapper=document.createElement("div"),i.wrapper.classList.add("patchr-progress"),i.wrapper.classList.add("fade"),i.bar=document.createElement("div"),i.bar.classList.add("patchr-progress-bar"),i.wrapper.appendChild(i.bar),i.container.appendChild(i.throbber),i.container.appendChild(i.wrapper),i.fadeIn(i.throbber),i.fadeIn(i.wrapper),i}return m(r,t.default),h(r,[{key:"current",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return null!==e?this.setOption("current",e).update():this.getOption("current")}},{key:"destroy",value:function(){var e=this;return this.fadeOut(this.throbber).then(function(){e.container.contains(e.throbber)&&e.container.removeChild(e.throbber),e.throbber=null}),this.fadeOut(this.wrapper).then(function(){e.container.contains(e.wrapper)&&e.container.removeChild(e.wrapper),e.wrapper=null,e.bar=null})}},{key:"increase",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.current(this.current()+e)}},{key:"info",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return null!==e?this.setOption("info",e).update():this.getOption("info")}},{key:"percent",value:function(){return Math.ceil(Math.round(100/this.total()*this.current()))}},{key:"state",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return null!==e?this.setOption("state",e).update():this.getOption("state")}},{key:"total",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return null!==e?this.setOption("total",e).update():this.getOption("total")}},{key:"update",value:function(){var t=this;return s.default.animationFrame(function(){var e=t.percent();t.throbber.setAttribute("data-state",t.state()),t.wrapper.setAttribute("data-state",t.state()),t.bar.setAttribute("data-percent",e),t.bar.setAttribute("data-info",t.info()),t.bar.style.width=e+"%"}),this}}]),r}();(o.default=n).defaults={current:0,element:null,info:null,state:"loading",total:100}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Transition":24,"./Utility":25}],20:[function(i,e,d){(function(e){Object.defineProperty(d,"__esModule",{value:!0});var o=f("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),r="undefined"!=typeof window?window.Patchr:void 0!==e?e.Patchr:null,a=f(i("./Ajax")),s=f(i("./Infinity")),l=f(i("./Modal")),u=f(i("./Progress")),t=f(i("./Transition")),n=function(e){function i(e,t){c(this,i);var n=p(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return n.parser=null,n.url=r.Url.create(t),n.id=n.url.sha1,n.modal=new l.default(e,{id:n.id}).setTitle("Loading..."),n.query={},n.$patches=(0,o.default)('<div class="patchr-patches"/>').appendTo(n.modal.$content),n.progress=null,n}return m(i,t.default),h(i,[{key:"close",value:function(){return this.modal.close()}},{key:"maximize",value:function(){return this.modal.maximize()}},{key:"minimize",value:function(){return this.modal.minimize()}},{key:"open",value:function(){var e=this;return this.modal.open().then(function(){return e.load()})}},{key:"load",value:function(){var i=this;if(this.parser||this.loading)return this.resolve();this.loading=!0;var t=new a.default(this.patchr,this.url),n=function(){return t.xhr.abort()},o=function(e,t,n){i.progress||(i.progress=new u.default(i.patchr,i.modal.$content,{info:i.url.filename,total:n})),i.progress.current(t)};return this.on("ajax.progress",o),this.on("close.modal",n),t.send().then(function(e){return i.off("ajax.progress",o),i.off("close.modal",n),i.progress.state("initializing"),i.progress.current(0),i.transitionEnd(i.progress.bar).then(function(){return e})}).then(function(e){return i.proxy("getParser",[e,t.url])}).then(function(e){return i.modal.setTitle(i.url.filename),i.parser=e,i.progress.current(i.progress.total()),i.transitionEnd(i.progress.bar)}).then(function(){return i.progress.destroy()}).then(function(){return i.renderPatches()}).finally(function(){i.loading=!1,i.progress=null}).catch(function(e){if(!t.aborted)return i.reject(e);i.modal.$content.html("")})}},{key:"navigateToPatch",value:function(e){e.preventDefault(),e.stopPropagation();var t=(0,o.default)(e.currentTarget).addClass("active");this.$patchMenu.find("a").not(t).removeClass("active"),this.proxy("navigate",[null,{patch:t.data("patch")}])}},{key:"renderPatches",value:function(){var i=this;return this.resolve(1<this.parser.patches.length&&this.parser.renderPatchesMenu()).then(function(e){e&&(i.$patchMenu=(0,o.default)(e.toString()),i.$patchMenu.delegate("a","click.patchr.patch.menu",i.navigateToPatch.bind(i)),i.modal.$footer.prepend(i.$patchMenu),i.$patchMenu.find("a:nth("+(i.query.patch&&i.query.patch-1||0)+")").trigger("click.patchr.patch.menu"))}).then(function(){return i.each(i.parser.patches,function(e){var t=e.renderContainer();1<i.parser.patches.length&&t.addClass("fade");var n=(0,o.default)(t.setAttribute("data-patch",e.index+1).toString());i.$patches.append(n),new s.default(i.patchr,n[0],{items:e.files})})})}},{key:"renderFileList",value:function(){this.fileList=new s.default(this.patchr,{source:this.parser.patches})}},{key:"renderStats",value:function(){var n=this;return this.promise(function(e,t){e(n.parser.renderDiffStats().toString())})}},{key:"setQuery",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.query=r.Utility.isObject(e)?e:r.Utility.deparam(e),this.query.patch&&this.$patchMenu&&this.showPatch(this.query.patch),this}},{key:"showPatch",value:function(e){var t=this.$patches.children();this.$activePatch=t.filter("[data-patch="+e+"]"),this.fadeOut(t.not(this.$activePatch)),this.fadeIn(this.$activePatch)}}]),i}();d.default=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Ajax":14,"./Infinity":15,"./Modal":17,"./Progress":19,"./Transition":24}],21:[function(i,e,a){(function(e){Object.defineProperty(a,"__esModule",{value:!0});var t="undefined"!=typeof window?window.Patchr:void 0!==e?e.Patchr:null,o=f(i("navigo")),r=f(i("./Utility")),n=function(e){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c(this,i);var n=p(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return n.options=r.default.extend(!0,{},n.options,i.defaults,n.getPatchrOption("router"),t),n.initialized=!1,n.navigo=null,n.routes=null,n.init(),n}return m(i,t.Proxy),h(i,[{key:"init",value:function(){var e=this;if(!this.initialized){this.routes={},this.navigo=new o.default;var t=this.getPrefix(),n=new RegExp("#/?"+t.substr(1)+"/");"undefined"!=typeof window&&window.history&&window.history.replaceState&&window.location.href.match(n)&&window.history.replaceState({},"",window.location.href.replace(n,t+"/")),r.default.ready(function(){e.navigo.on(e.routes).resolve(),e.initialized=!0})}}},{key:"addRoute",value:function(e,t){if(!r.default.isFunction(t))throw new TypeError('The "fn" argument must be a valid callback of the type "Function": '+t);this.routes[e]=t}},{key:"clear",value:function(){this.navigo._lastRouteResolved=!1,this.navigo.navigate(""),/\/$/.test(window.location.href)&&"undefined"!=typeof window&&window.history&&window.history.replaceState&&window.history.replaceState({},"",window.location.href.replace(/\/$/,""))}},{key:"getPrefix",value:function(){var e=this.getOption("prefix","");return e&&(e="/"+("/"===e[0]?e.substr(1):e)),e}},{key:"navigate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!this.initialized;if(t=r.default.param(t),(e=this.proxy("getUrl",[e]))?(this.navigo._lastRouteResolved=null,e=encodeURIComponent(e[this.getOption("sha1",!!this.getPatchrOption("urls").length)?"sha1":"url"])):this.navigo._lastRouteResolved&&t&&(e=this.navigo._lastRouteResolved.url),e){t&&(e+="?"+t);var i=this.getPrefix();e=i+"/"+e.replace(new RegExp("^"+i+"/?"),""),n&&this.navigo.pause(!0),this.navigo.navigate(e),n&&this.navigo.pause(!1)}}},{key:"redirect",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.navigate(e,t,!0)}}]),i}();(a.default=n).defaults={prefix:"patch",sha1:null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Utility":25,navigo:9}],22:[function(i,e,o){(function(e){Object.defineProperty(o,"__esModule",{value:!0});var a="undefined"!=typeof window?window.Patchr:void 0!==e?e.Patchr:null,s=f(i("hamsterjs")),t=f(i("./Transition")),n=function(e){function r(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};c(this,r);var i=p(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));if(!(t instanceof HTMLElement))throw new Error('The "element" argument passed must be an instance of HTMLElement: '+t);i.options=a.Utility.extend(!0,{},i.options,r.defaults,i.getPatchrOption("scrollBar",{}),n),i.bar=document.createElement("div"),i.bar.classList.add("patchr-scroll-bar"),i.barMargin=i.getOption("bar.margin"),i.barMinHeight=i.getOption("bar.minHeight"),i.barWidth=i.getOption("bar.width"),i.container=t,i.height=0,i.length=1,i.manuallyScrolling=!1,i.position=0,i.track=document.createElement("div"),i.trackWidth=i.barWidth+2*i.barMargin,i.track.classList.add("patchr-scroll-track"),i.track.classList.add("fade"),i.track.style.width=i.trackWidth-2+"px",i.track.appendChild(i.bar),t.appendChild(i.track),i.width=0,i.passive=!1;try{var o=Object.defineProperty({},"passive",{get:function(){i.passive={passive:!0}}});window.addEventListener("test",null,o)}catch(e){}return(0,s.default)(t).wheel(i.wheel.bind(i),i.passive),document.body.addEventListener("mousedown",i.down.bind(i),i.passive),document.body.addEventListener("mousemove",i.move.bind(i),i.passive),document.body.addEventListener("mouseup",i.up.bind(i),i.passive),document.body.addEventListener("touchstart",i.down.bind(i),i.passive),document.body.addEventListener("touchmove",i.move.bind(i),i.passive),document.body.addEventListener("touchend",i.up.bind(i),i.passive),window.addEventListener("resize",i.resize.bind(i),i.passive),i.resize(),i.timer=null,i}return m(r,t.default),h(r,[{key:"destroy",value:function(){this.destroyTimer(),document.body.removeEventListener("mousedown",this.down.bind(this),this.passive),document.body.removeEventListener("mousemove",this.move.bind(this),this.passive),document.body.removeEventListener("mouseup",this.up.bind(this),this.passive),document.body.removeEventListener("touchstart",this.down.bind(this),this.passive),document.body.removeEventListener("touchmove",this.move.bind(this),this.passive),document.body.removeEventListener("touchend",this.up.bind(this),this.passive),(0,s.default)(this.container).unwheel(void 0,this.passive),this.container.removeChild(this.track),this.container=null,this.track=null,this.bar=null}},{key:"setLength",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null!==e&&(this.length=Math.max(Math.min(1,e),0)),this.length=Math.max(this.length*this.height,this.barMinHeight),this.bar.style.height=this.length+"px"}},{key:"setPosition",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null!==e&&(this.position=Math.max(Math.min(1,e),0)),this.position=this.position*this.getEmpty(),this.bar.style.top=this.position+"px"}},{key:"down",value:function(e){var t=window.TouchEvent&&e instanceof window.TouchEvent;if(t||e.target===this.bar||e.target===this.track){var n=this.getOffset(e).y;t||e.target===this.bar?(e.stopPropagation(),this.manuallyScrolling=!0,this.scrollTop=n,this.emit("scroll.mousedown",this)):e.target===this.track&&(e.stopPropagation(),n<this.position?this.emit("scroll.pageUp",this):n>this.position+this.length&&this.emit("scroll.pageDown",this))}}},{key:"getEmpty",value:function(){return this.height-this.length}},{key:"getOffset",value:function(e){var t=window.TouchEvent&&e instanceof window.TouchEvent?e.changedTouches[0]:e,n=t.currentTarget||t.srcElement||t.target,i=t.clientX||0,o=t.clientY||0,r=n===window||n===document||n===document.body?{left:0,top:0}:n.getBoundingClientRect();return{x:i-r.left,y:o-r.top}}},{key:"move",value:function(e){var t=this,n=window.TouchEvent&&e instanceof window.TouchEvent;if(n||this.manuallyScrolling||e.target!==this.bar&&e.target!==this.track){if(this.manuallyScrolling){e.stopPropagation();var i=this.getEmpty();if(i){var o=this.getOffset(e).y;i=n||e.target===this.bar?(this.position+o-this.scrollTop)/i:(o-this.scrollTop)/i}this.emit("scroll.to",this,i).then(function(){return t.setPosition(i)}).then(function(){return t.show()})}}else this.show()}},{key:"up",value:function(e){var t=this;this.manuallyScrolling&&(e.stopPropagation(),this.move(e),this.manuallyScrolling=!1,this.emit("scroll.mouseup",this).then(function(){return t.hide()}))}},{key:"hide",value:function(){if(this.destroyTimer(),!this.manuallyScrolling)return this.destroyTimer(),this.track.classList.contains("in")?this.fadeOut(this.track):this.resolve(this.track)}},{key:"destroyTimer",value:function(){this.timer&&clearTimeout(this.timer),this.timer=null}},{key:"resize",value:function(){var e=this.container.getBoundingClientRect();this.width=e.width,this.height=e.height,this.setLength(),this.setPosition()}},{key:"show",value:function(){var e=this;return this.getEmpty()?(this.destroyTimer(),(this.track.classList.contains("in")?this.resolve(this.track):this.fadeIn(this.track)).then(function(){e.timer=setTimeout(function(){e.hide()},2e3)})):this.resolve(this.track)}},{key:"wheel",value:function(e,t,n,i){var o=this,r=Math.abs(n),a=Math.abs(i);e.deltaX=n,e.deltaY=i,e.pixelX=n<0?r:-r,e.pixelY=i<0?a:-a,this.emit("scroll.wheel",this,e).then(function(){return 0!==e.pixelY&&o.show()})}}]),r}();(o.default=n).defaults={bar:{minHeight:25,margin:3,width:12}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Transition":24,hamsterjs:7}],23:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=f(e("./Utility")),a=f(e("./ScrollBar")),i=f(e("./Transition")),o=function(e){function o(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(c(this,o),!(t instanceof HTMLElement))throw new Error('The "element" argument passed must be an instance of HTMLElement: '+t);var i=p(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,n));return i.container=document.createElement("div"),i.container.classList.add("patchr-scrollable"),r.default.forceReflow(t).appendChild(i.container),i.innerHeight=0,i.previousScrollTop=-1,i.scrollbar=new a.default(e,i.container),i.scrollTop=0,i.on("scroll.pageUp",i.proxyScrollEvent("scrollPageUp")).on("scroll.pageDown",i.proxyScrollEvent("scrollPageDown")).on("scroll.to",i.proxyScrollEvent("scrollTo")).on("scroll.wheel",i.proxyScrollEvent("scrollWheel")),window.addEventListener("resize",i.resize.bind(i),!1),i.resize(),i}return m(o,i.default),h(o,[{key:"draw",value:function(){var e=this;r.default.animationFrame(function(){e.scrollbar.setLength(e.height/e.innerHeight),e.scrollbar.setPosition(e.scrollTop/(e.innerHeight-e.height))})}},{key:"proxyScrollEvent",value:function(r){var a=this;return function(e,t){for(var n=arguments.length,i=Array(2<n?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];t===a.scrollbar&&a[r].apply(a,[e,t].concat(i))}}},{key:"resize",value:function(){this.position=this.container.getBoundingClientRect(),this.width=this.position.width,this.height=this.position.height,this.pageOffset=this.height/2*40,this.scrollbar.resize()}},{key:"scrollPageDown",value:function(){this.setScrollTop(this.scrollTop+this.pageOffset)}},{key:"scrollPageUp",value:function(){this.setScrollTop(this.scrollTop-this.pageOffset)}},{key:"scrollTo",value:function(e,t,n){this.setScrollTop(n*(this.innerHeight-this.height))}},{key:"scrollWheel",value:function(e,t,n){this.setScrollTop(this.scrollTop+n.pixelY)}},{key:"setScrollTop",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(null===e)return this.scrollTop;this.previousScrollTop=this.scrollTop,this.scrollTop=Math.max(Math.min(parseFloat(e),this.innerHeight-this.height),0),isNaN(this.scrollTop)||this.scrollTop<0?this.scrollTop=0:this.scrollTop>this.innerHeight-this.height&&(this.scrollTop=this.innerHeight-this.height),this.previousScrollTop!==this.scrollTop&&this.draw()}}]),o}();(n.default=o).defaults={}},{"./ScrollBar":22,"./Transition":24,"./Utility":25}],24:[function(i,e,o){(function(e){Object.defineProperty(o,"__esModule",{value:!0});var l=f("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),t="undefined"!=typeof window?window.Patchr:void 0!==e?e.Patchr:null,u=f(i("./Utility")),n=function(e){function i(e,t){c(this,i);var n=p(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e));return n.options=u.default.extend(!0,{},{animate:!!n.getPatchrOption("animate",i.defaults.animate),transition:n.getPatchrOption("transition",i.defaults.transition)},t),n}return m(i,t.Proxy),h(i,[{key:"fadeIn",value:function(i){var o=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return this.promise(function(e,t){var n=(0,l.default)(i);return o.getOption("animate")?o.transitionEnd(u.default.forceReflow(n.addClass("fade")).addClass("in"),r).then(e):(n.show(),e())})}},{key:"fadeOut",value:function(i){var o=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return this.promise(function(e,t){var n=(0,l.default)(i);return o.getOption("animate")?o.transitionEnd(n.removeClass("in"),r).then(e):(n.hide(),e())})}},{key:"transitionEnd",value:function(r){var a=this,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return this.promise(function(e,t){var n=(0,l.default)(r),i=u.default.getTransitionEvent("end");if(!i||!a.getOption("animate"))return e();s=s||1e3*parseFloat(u.default.forceReflow(n).css("transition-duration")),isNaN(s)&&(s=a.getOption("transition.fallbackDuration"));var o=!1;n.one(i,function(){o=!0,e()}),setTimeout(function(){o||n.trigger(i)},s||0)})}}]),i}();(o.default=n).defaults={animate:!0,transition:{fallbackDuration:300}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Utility":25}],25:[function(h,e,c){(function(e){Object.defineProperty(c,"__esModule",{value:!0});var o=f("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),n=f(h("css-vendor")),t=f(h("domready")),i="undefined"!=typeof window?window.Patchr:void 0!==e?e.Patchr:null,r=f(h("raf")),a=f(h("transitionend-property")),s=function(e,t){return!(!(e=n.default.supportedProperty(e))||!n.default.supportedValue(e,t))&&e},l={translate:s("transform","translate(1px, 1px)"),translate3d:s("transform","translate3d(1px, 1px, 1px)"),transition:s("transition","all 300ms linear")},u={end:a.default||!1},d=i.Utility.extend(i.Utility,{animationFrame:function(e){(0,r.default)(e)},cssSupport:l,forceReflow:function(i){return(0,r.default)(function(){for(var e=i instanceof o.default?i.toArray():[].concat(i),t=0,n=e.length;t<n;t++)e[t].offsetWidth}),i},getTransitionEvent:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"end";return u[e]||!1},isHtmlElement:function(e){return e instanceof HTMLElement},ready:function(e){(0,t.default)(e)}});c.default=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"css-vendor":2,domready:6,raf:12,"transitionend-property":13}],26:[function(e,t,n){var i=f(e("./PatchrUi"));t.exports=function(e){return new i.default(e)},t.exports.__version__=i.default.__version__,t.exports.defaults=i.default.defaults,t.exports.PatchrUi=i.default},{"./PatchrUi":18}]},{},[26])(26)});